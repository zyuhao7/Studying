# day-2025-8-5
#创建表 primary key unique not null auto increment default 
 create table if not exists user(
 id bigint unsigned primary key not null auto_increment,
 name varchar(50) unique not null,
 age tinyint not null,
 sex enum('M', 'W') not null)engine=innodb default charset=utf8;
 
CREATE TABLE t_user(
    id INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    email VARCHAR(50) NOT NULL UNIQUE,
    password CHAR(60) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
 
 windows my.ini
 linux /etc/my.cnf
 
 
 # 插入数据
 insert into user(name, age, sex) values('zhangsan', 20, 'M');
 insert into user(name, age, sex) values('lisi', 18, 'M');
 insert into user(name, age, sex) values('lilei', 21, 'W');
 insert into user(name, age, sex) values('xiaomei', 20, 'W');
 insert into user(name, age, sex) values('wangwu', 17, 'M');
 
 insert into user(name, age, sex) values('zhangsan', 20, 'M'),('lisi', 18, 'M'),('lilei', 21, 'W'),
  ('xiaomei', 20, 'W'),('wangwu', 17, 'M');
 
 #修改
 update user set age = age + 1;
 
 #删除
 delete from user;
 
 # select 查询 回表? 
 select * from user;
 select name,age,sex from user;
 select name,age,sex from user where sex = "M";
 
 #去重 distinct
 select distinct age from user;
 
 
 # limit 分页
 select id, name, age sex from user limit 3;
 select id, name, age sex from user limit 1,3; # 1 表示 offset
 
 # explain 查看sql语句的执行计划
 explain select * from user where name = "zhangsan";
 explain select * from user where age = 20 limit 1;
 
 # 存储过程
 DELIMITER //
CREATE PROCEDURE insert_users(IN num_rows INT)
BEGIN
    DECLARE i INT DEFAULT 1;
    WHILE i <= num_rows DO
        INSERT INTO t_user (email, password) 
        VALUES (CONCAT('user', i, '@example.com'), MD5(CONCAT('password', i)));
        SET i = i + 1;
    END WHILE;
END //
DELIMITER ;

-- 调用存储过程插入100,000条数据
CALL insert_users(100000);
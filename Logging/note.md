# C++基于多设计模式下的同步&异步⽇志系统
实现功能:
* 多级日志级别
* 同步异步写日志
* 可靠写入日志到 文件、控制台等
* 支持多线程并发写日志

核心技术: 
* 继承和多态的应用
* C++ 11 (auto、多线程、智能指针、 右值引用)
* 双缓冲区
* 生产者消费者模型
* 设计模式(代理、单例、工厂、建造者等)

## 同步写日志
```c++
    业务线程-> [业务程序逻辑] -> [日志逻辑] -> [业务程序逻辑] ->

    在高并发场景下, 随着日志数量的不断增多, 同步日志系统容易出现系统瓶颈:

     1. 一方面, 大量的日志陷入等量的 write 系统调用, 带来一定系统开销.
     2. 另一方面, 打印日志的进程附带了大量同步的磁盘 IO, 影响程序性能.
```
## 异步写日志
```c++
    异步 IO 是指日志输出语句与业务逻辑语句不在同一个线程中运行, 而是有专门的线程用于进行日志输出操作. 业务线程只需要将日志放入一个内存缓冲区中不用等待即可继续执行后续业务逻辑(日志的生产者), 而日志的拿取操作交给单独的日志线程完成(日志的消费者).

    业务线程 -> [业务逻辑]     -> [日志打印(将日志生产到缓冲区)]

                                            ↓
                                        
                                        (日志缓冲区)

                                            ↓

    日志线程 -> [日志打印逻辑]  ->  [日志打印(消费缓冲区日志写到文件)]

    这样做的好处是即使⽇志没有真的地完成输出也不会影响程序的主业务，可以提⾼程序的性能：
    1. 主线程调用日志打印接口成为非阻塞操作.
    2. 同步的磁盘 IO 从主线程剥离出来交给单独的线程完成.
```

## 不定参函数
## 设计模式
```c++
    六大原则:
    单⼀职责原则、 开闭原则、⾥⽒替换原则、依赖倒置原则、迪⽶特法则、接⼝隔离原则.
    单例、工厂、建造者、代理.
```

## 第 4 天：常用的 Git 版本控制指令
```c++
/*
    准备工作目录
        mkdir git-demo
        cd git-demo
        git init
    
    新增文件
    我们在工作目录下放一些文件，至于放什么文件都可以，总之先复制一些现有的文件与目录进到目前的工作目录下。


     新增了文件之后，如果你还在 Git Shell 介面下，应该会立刻看到如下图的提示：
     
      [master +10 ~0 -0 !]

      在这段提示的地方，你可以看到几个东西：

        master 代表目前工作目录是 master 分支，也是 Git 的预设分支名称。
        「红色」的数字都代表 Untracked (未追踪) 的文件，也就是这些变更都不会进入版本控制。
        +10 代表有 10 个「新增」的文件
        ~0 代表有 0 个「修改」的文件
        -0 代表有 0 个「删除」的文件

      如果要将这些新增的文件加入到 Git 版本控制，你必须下达以下指令：
         git add .
    
      如此一来，这个工作目录下所有的文件、目录与子目录下的所有文件，全部都会被加入到这个 Git 工作目录的【索引】或【快照】之中。请注意: 此时并没有建立任何版本，只是告知 Git 这些文件「即将」被加入 Git 版本库而已。

    不过有趣的地方在于，原本「红色的数字」现在却变成了「绿色的数字」，这里所代表的意义是：
        「绿色」的数字都代表 Staged (准备好) 的文件，也就是这些变更才会进入版本控制。
        +23 代表有 23 个「新增」的文件将被建立一个版本
        ~0 代表有 0 个「修改」的文件将被建立一个版本
        -0 代表有 0 个「删除」的文件将被建立一个版本

    但原本不是只有 +10 (红色) 而已吗? 怎么执行完后变成了 +23 (绿色) 呢？

    我们执行 git reset 重设一下工作目录的索引状态，然后再执行一次 git status 查询当前工作目录的详细状态.




    你可以发现，这边列出的只有「第一层目录下的文件与目录」而已，因为 git 不会这个时候去查到底目录下到底有多少文件没有被追踪。

    当我们执行 git add . 之后，再执行一次 git status 查询状态，你可以发现连子目录下的文件也都全部被加入了，所以这个数字才会变多.

    新增部分文件:
      刚刚提到的 git add . 指令会自动将所有文件 (含子目录的文件) 加入到工作目录索引中，有时候我们只想让特定目录或特定文件加入版本，这时你也可以指定特定目录，或利用万用字元来加入文件。
    
        我们再执行一次 git reset 重设工作目录的索引状态，然后用 git add app 加入 app 这个资料夹与其下的所有文件，还有用 git add .* 新增所有「点」开头的文件，如下图示：
    
     执行的过程中，你应该可以发现，在执行 git add 的过程中，Git Shell 提示的文字也有了些变化，现在同时出现了「绿色的数字」与「红色的数字」，所代表的意思跟上述是一样的，是不是非常方便辨识！当你需要知道详情才需要执行 git status 指令。

  Ps: 详细的指令与参数说明，可以输入 git help add 查询完整的文件。

    提交变更 / 建立版本
      建立版本的指令如下：
        git commit
        git commit -m "版本记录的说明文字"
  Ps: 详细的指令与参数说明，可以输入 git help commit 查询完整的文件。

    查询历史记录
      由于我们刚刚建立了一个版本，当我们想要查询版本的历史记录，可以输入以下指令：
       git log
    
       git log -10  #显示十条记录.
    

    删除文件
      在 Git 指令列工具中也有个 rm 指令，可以用来删除文件。例如我们想删除  Gruntfile.js 这个文件，可以输入以下指令：
     git rm 'Gruntfile.js'

      这个 git rm 的指令执行的时候，会同时做两件事：
       1. 删除工作目录快照的 'Gruntfile.js' 这个文件 (用来标示这个删除文件的动作要列入版本控制)
       2. 删除工作目录下的 'Gruntfile.js' 这个实体文件 (代表真的把这个实体文件给删除)

    文件更名
      在 Git 指令列工具中也有个 mv 指令，可以用来变更文件或目录的名称。例如我们想把 test 目录更名为 unit-test 名称，可以输入以下指令：
        git mv test unit-test

    显示工作目录的索引状态
      刚刚我们一直会看到 git status 来显示工作目录的状态，你也可以使用 git status -s 来显示较为精简的版本.
      
      
    重置目前的工作目录
      我们曾经学过如何利用 git reset 重置目前工作目录的索引状态，但请注意，这个指令预设只会重置「索引状态」，那些你用 git rm 删除的目录或文件，还是用 git mv 更名的目录或文件，通过 git reset 都无法把「实体文件」给救回来。

      如果想把工作目录也给还原到目前的最新版，则必须输入以下指令：
         git reset --hard

    还原其中一个被改坏的文件
        果文件编辑到一半，发现被改坏了，你希望能救回没修改前的版本，这时你可以利用以下指令还原文件：
         git checkout master Gruntfile.js

      这段指令的意思是把 master 分支中最新版的 Grunefile.js 给还原，由于我先前已经把 Gruntfile.js 给删除了，为了要救回这一个档，可以用这个方式救回。这样可以避免使用 git reset --hard 一次把所有文件都给还原了！
    
    请注意，还原的过程也会一并复原工作目录的索引状态喔！


    今日小结

    git init
    git add .
    git add app/*
    git add *.txt
    git status
    git status -s
    git commit
    git commit -m "版本记录的说明文字"
    git log
    git log -10
    git rm '*.txt'
    git rm 'app/*.html'
    git mv 'oldname' 'newname'
    git reset
    git reset --hard
    git checkout master 'filename'
*/
```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="500" viewBox="0 0 800 500">
  <!-- 背景和标题 -->
  <rect width="800" height="500" fill="white"/>
  <text x="400" y="30" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">观察者模式类图</text>
  
  <!-- 抽象主题 (Subject) -->
  <rect x="100" y="100" width="150" height="80" rx="5" ry="5" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
  <text x="175" y="130" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Subject</text>
  <text x="105" y="155" font-family="Arial" font-size="12">+ registerObserver(Observer*)</text>
  <text x="105" y="175" font-family="Arial" font-size="12">+ removeObserver(Observer*)</text>
  <text x="105" y="195" font-family="Arial" font-size="12">+ notifyObservers()</text>
  
  <!-- 抽象观察者 (Observer) -->
  <rect x="400" y="100" width="150" height="60" rx="5" ry="5" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
  <text x="475" y="130" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Observer</text>
  <text x="405" y="155" font-family="Arial" font-size="12">+ update(float, float, float)</text>
  
  <!-- 具体主题 (WeatherData) -->
  <rect x="100" y="250" width="180" height="100" rx="5" ry="5" fill="#e6f7ff" stroke="#333" stroke-width="2"/>
  <text x="190" y="280" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">WeatherData</text>
  <text x="105" y="305" font-family="Arial" font-size="12">- observers: Observer*[]</text>
  <text x="105" y="325" font-family="Arial" font-size="12">- temperature: float</text>
  <text x="105" y="345" font-family="Arial" font-size="12">+ setMeasurements(float, float, float)</text>
  
  <!-- 具体观察者1 (CurrentConditionsDisplay) -->
  <rect x="400" y="220" width="220" height="100" rx="5" ry="5" fill="#fff2e6" stroke="#333" stroke-width="2"/>
  <text x="510" y="250" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">CurrentConditionsDisplay</text>
  <text x="405" y="275" font-family="Arial" font-size="12">- temperature: float</text>
  <text x="405" y="295" font-family="Arial" font-size="12">- humidity: float</text>
  <text x="405" y="315" font-family="Arial" font-size="12">+ display()</text>
  
  <!-- 具体观察者2 (StatisticsDisplay) -->
  <rect x="400" y="370" width="200" height="100" rx="5" ry="5" fill="#fff2e6" stroke="#333" stroke-width="2"/>
  <text x="500" y="400" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">StatisticsDisplay</text>
  <text x="405" y="425" font-family="Arial" font-size="12">- maxTemp: float</text>
  <text x="405" y="445" font-family="Arial" font-size="12">- minTemp: float</text>
  <text x="405" y="465" font-family="Arial" font-size="12">+ display()</text>
  
  <!-- 继承关系线 -->
  <line x1="175" y1="180" x2="175" y2="250" stroke="#333" stroke-width="2"/>
  <polygon points="165,250 175,260 185,250" fill="#333"/>
  
  <line x1="475" y1="160" x2="475" y2="220" stroke="#333" stroke-width="2"/>
  <polygon points="465,220 475,230 485,220" fill="#333"/>
  
  <line x1="500" y1="160" x2="500" y2="370" stroke="#333" stroke-width="2"/>
  <polygon points="490,370 500,380 510,370" fill="#333"/>
  
  <!-- 关联关系线 -->
  <line x1="280" y1="295" x2="400" y2="265" stroke="#333" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="395,260 400,265 395,270" fill="#333"/>
  <text x="340" y="255" font-family="Arial" font-size="12">1</text>
  <text x="340" y="275" font-family="Arial" font-size="12">*</text>
  
  <!-- 聚合关系线 -->
  <line x1="510" y1="250" x2="230" y2="295" stroke="#333" stroke-width="2"/>
  <polygon points="235,290 230,295 235,300" fill="#333"/>
  <text x="370" y="235" font-family="Arial" font-size="12">1</text>
</svg>
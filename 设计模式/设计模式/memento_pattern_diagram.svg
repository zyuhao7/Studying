<svg width="600" height="400" xmlns="http://www.w3.org/2000/svg">
    <!-- 背景和标题 -->
    <rect width="600" height="400" fill="#f5f5f5"/>
    <text x="300" y="30" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">备忘录设计模式关系图</text>

    <!-- 原发器类 -->
    <rect x="50" y="100" width="180" height="120" rx="10" fill="#ffcccc" stroke="#000"/>
    <text x="140" y="130" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">TextEditor</text>
    <text x="140" y="155" font-family="Arial" font-size="14" text-anchor="middle">- content: string</text>
    <text x="140" y="175" font-family="Arial" font-size="14" text-anchor="middle">- cursorPosition: int</text>
    <text x="140" y="195" font-family="Arial" font-size="14" text-anchor="middle">+ setContent()</text>
    <text x="140" y="215" font-family="Arial" font-size="14" text-anchor="middle">+ createMemento()</text>
    <text x="140" y="235" font-family="Arial" font-size="14" text-anchor="middle">+ restoreFromMemento()</text>

    <!-- 备忘录类 -->
    <rect x="350" y="100" width="180" height="100" rx="10" fill="#ccffcc" stroke="#000"/>
    <text x="440" y="130" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">TextEditorMemento</text>
    <text x="440" y="155" font-family="Arial" font-size="14" text-anchor="middle">- content: string</text>
    <text x="440" y="175" font-family="Arial" font-size="14" text-anchor="middle">- cursorPosition: int</text>
    <text x="440" y="195" font-family="Arial" font-size="14" text-anchor="middle">+ getContent()</text>
    <text x="440" y="215" font-family="Arial" font-size="14" text-anchor="middle">+ getCursorPosition()</text>

    <!-- 负责人类 -->
    <rect x="180" y="270" width="220" height="100" rx="10" fill="#ccccff" stroke="#000"/>
    <text x="290" y="300" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">HistoryManager</text>
    <text x="290" y="325" font-family="Arial" font-size="14" text-anchor="middle">- mementos: vector&lt;TextEditorMemento*&gt;</text>
    <text x="290" y="345" font-family="Arial" font-size="14" text-anchor="middle">+ saveMemento()</text>
    <text x="290" y="365" font-family="Arial" font-size="14" text-anchor="middle">+ getPreviousMemento()</text>

    <!-- 关系箭头 -->
    <!-- 1. Originator 创建 Memento -->
    <line x1="230" y1="150" x2="350" y2="150" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="290" y="140" font-family="Arial" font-size="12" text-anchor="middle" fill="#006600">创建</text>

    <!-- 2. Originator 从 Memento 恢复 -->
    <line x1="350" y1="160" x2="230" y2="160" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="290" y="175" font-family="Arial" font-size="12" text-anchor="middle" fill="#006600">恢复</text>

    <!-- 3. Caretaker 管理 Memento -->
    <path d="M440,200 C440,240 440,240 290,270" stroke="#000" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
    <text x="400" y="230" font-family="Arial" font-size="12" text-anchor="middle" fill="#006600">存储</text>

    <path d="M290,270 C180,240 180,240 140,200" stroke="#000" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
    <text x="180" y="230" font-family="Arial" font-size="12" text-anchor="middle" fill="#006600">提供</text>

    <!-- 箭头标记定义 -->
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#000"/>
        </marker>
    </defs>
</svg>
<svg width="600" height="400" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景和标题 -->
  <rect width="600" height="400" fill="#f8f9fa"/>
  <text x="300" y="40" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">原型模式(Prototype Pattern)结构</text>

  <!-- 抽象原型接口 -->
  <rect x="250" y="80" width="100" height="60" rx="8" fill="#b3d9ff" stroke="#0066cc" stroke-width="2"/>
  <text x="300" y="110" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Prototype</text>
  <text x="300" y="130" font-family="Arial" font-size="12" text-anchor="middle">+clone()</text>

  <!-- 具体原型类 -->
  <rect x="100" y="200" width="150" height="70" rx="8" fill="#ccffcc" stroke="#009933" stroke-width="2"/>
  <text x="175" y="230" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">ConcretePrototype</text>
  <text x="175" y="250" font-family="Arial" font-size="12" text-anchor="middle">+clone()</text>
  <text x="175" y="270" font-family="Arial" font-size="12" text-anchor="middle">-data: String</text>

  <!-- 客户端 -->
  <rect x="350" y="200" width="100" height="70" rx="8" fill="#ffd9cc" stroke="#cc6633" stroke-width="2"/>
  <text x="400" y="230" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Client</text>
  <text x="400" y="250" font-family="Arial" font-size="12" text-anchor="middle">+operation()</text>

  <!-- 连接线 -->
  <!-- 继承关系：ConcretePrototype 继承自 Prototype -->
  <line x1="175" y1="200" x2="175" y2="140" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="175" y1="140" x2="300" y2="140" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- 关联关系：Client 使用 Prototype -->
  <line x1="350" y1="235" x2="350" y2="140" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="350" y1="140" x2="350" y2="140" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- 创建关系：Client 通过 clone() 创建 ConcretePrototype -->
  <path d="M450 235 Q480 180 350 235" stroke="#333" stroke-width="1.5" stroke-dasharray="5,5" fill="none" marker-end="url(#arrowhead)"/>

  <!-- 箭头标记 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>

  <!-- 图例 -->
  <rect x="50" y="320" width="500" height="60" rx="8" fill="#e6e6e6"/>
  <text x="300" y="340" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">图例</text>
  <text x="150" y="360" font-family="Arial" font-size="12" text-anchor="middle">抽象原型接口</text>
  <rect x="100" y="350" width="20" height="15" fill="#b3d9ff" stroke="#0066cc" stroke-width="2"/>
  <text x="300" y="360" font-family="Arial" font-size="12" text-anchor="middle">具体原型类</text>
  <rect x="250" y="350" width="20" height="15" fill="#ccffcc" stroke="#009933" stroke-width="2"/>
  <text x="450" y="360" font-family="Arial" font-size="12" text-anchor="middle">客户端</text>
  <rect x="400" y="350" width="20" height="15" fill="#ffd9cc" stroke="#cc6633" stroke-width="2"/>
</svg>